# 软件架构

[toc]

## 一、概要

### （1）做一个乐观理想 和 实用主义的架构师‘

“架构”可大可小。

乐观：心态乐观

理想：有很高的目标。让我们不容易跑偏。

实用主义：可落地

成为或作为一个架构师的思维方式。

### （2）架构是一个软件系统的基石

软件项目里面有两块基石，一块叫架构设计，另一块叫项目管理。

架构在变化。

当你开始担起一个角色（项目经理、技术经理、架构师）责任的时候，你就担得起这个角色了。

## 二、架构中六条不变的东西

第一条：以终为始；

第二条以人为本；

第三条以需求为核心；

第四条以问题为导向；

第五条以工具为方法；

第六条以经验为指引。

### （1）第一条：以终为始

- 为了某个特定的架构目标而服务

所有的架构最开始都是为了某个特定的架构目标而服务的，这个目标是我们整个架构的过程中，甚至软件研发，在整个体系的过程中，我们一直要保持和坚守的东西，你可以把它认为我们的价值观，我们的方向盘。特别来说，架构，它是一种最终是一种权衡和折中的艺术，那么我们面临很多实际的问题的时候，我们就要去取舍。

我最经常给大家举到一个例子，一个偏设计的例子就是，我们去写代码，你写的过程中就会发现今天，这个需求起来了，我要完成这个需求，时间紧，任务重，明天就要交，代码量还很大，我如果按照常规的各种设计拆分，我的代码可能需要写好几天才写完，领导也不同意，合作方、业务方也不答应，但是我发现有个偷懒的办法，我加几句代码放在一个不太合适的位置上，先把这个问题堵住，把这个功能实现了，是吧？a、b、 c 三个类，本来要加在 c 上的是合理的，但是我现在发现加在A、 b 上我能干得更快。

跟 leader 们说一下，跟业务方勾兑一下，就这么干了，相当于我们在我们的大腿上又接出来一根假肢，对吧？这个方式是个临时方案，临时方案能不能用？对，但是我们需要知道它跟我们整体的设计目标，比如说高质量的维护我们这一版的这个程序，它是冲突的。

那么我们的长期目标和我们的终极目标又是在满足各种业务需求的情况下，长期的去维护我们的项目的高质量，那是我们的长目标，我们的中，我们目前的史是什么呢？嗯，选择了一个不再恰当的实验方式。好，假如说我们忘掉了我们那个长期目标，接下来会发生什么呢？过了两天又来一个紧急的需求，这个紧急需求可能不是开发一个新的功能了，而是把原有的快速实现。那次功能上有个bug，赶紧改掉，很急，要求你 3 个小时内改完上线怎么办？互联网就这个速度。嗯，在互联网里面，我们一个比较核心的这种交易系统，比如说有十个团队在上面开发，一天可以发布 60 次，速度很快，怎么办？然后，诶，你又发现你有好招了，你接着在上次改的代码上继续的再往前改一点，就可以很快的去实现这个需求。好，你这么改一改，连续改了几个月，就把这个系统搞得无乱七八糟、四不像了，没有任何的设计可言，架构一塌糊涂，但是它能跑对吧？它能跑过一段时间，你离职了，换一个同学过来继续维护这个系统，他上来就看着就会说，我去，你这个系统为什么搞成这个样子？跟一大头 shit 一样，是吧？站在一个 shit 的山上，系统就是这么变坏的。

所以，我们需要在整个架构设计的过程中，一直要坚定自己的一些原则初衷，我们的终极的目标不能动摇，我们整个架构的过程其实也是为了实现和达到我们这个目标而服务的。一开始我们做设计的时候，很多时候我们就要做一些取舍，假如说我们没有办法引入一个很复杂的技术来做其中一个关键的支撑点，一个关键的组件，那么你在最开始选型的时候，或者最开始的冲盘设计的时候，就可能需要把它降级到一个我们可以用的技术，否则的话到那个时候你会发现我们这个地方是掉链子的，也就是说我们一上来就需要通盘的考虑从我们应该如何的布局，如何的布局，如何的拆分，如何的抽象，这也是后续我们架构里要讲的一些重点的内容。

架构的比较核心的手段。抽象和拆分其实它对应着我们人类思考问题的两种原则上的思维方式，就是所谓的我们的逻辑推理和总结归纳。推理，让我们从现有的知识走到了下一个知识。总结归纳，让我们从遗传的现象里面找到规律，从而提炼出来知识。

总之，以终为始，就意味着我们始终要坚定一些目标，设定一些原则，一些红线，然后坚定不移的朝着我们的目标去走，保持我们的线不断。这也是我们一般讲架构为什么要给大家讲？我们需要去讨论研究我们架构的原则。如果你去看一些比较大的这种完善的这种设计方案或者架构方案，你看最前面一般会放几页架构原则也是这么来的，我们后续的很多东西都是从我们的架构原则出发而得到的，它既是我们的终，反过来看也是我们的始。

### （2）第二条：以人为本，

我们任何的系统都是给人用的，任何的系统也是人开发的，对吧？用的人可能是业务方、产品人员，设计人员可能是成员，这个系统如果是一个技术系统，那么他用的人可能就是人员。嗯，不管是什么，我们都有这个系统的上下游开发、设计、测试、运维以及它的业务方、产品方、项目管理方、需求方等等客户。把这些人在设计的时候，我们先考虑到他们的诉求是什么，这就是所谓的以人为本，我们要平衡各方的利益点，可能是冲突的。开发方会认为，嗯，我们设计的太复杂了，需求提的太复杂了，应该简化一点。业务方会认为我们这个业务它的亮点就在于我们涉及到这些复杂的点，把这些去掉了，我们跟竞争对手就没有优势了。所以架构的设计需要去平衡各方的利益、诉讼诉求点，然后推动大家一起协作，把这个事最终给实现了，给落地了。

还记得我们前面说什么吗？架构最终要以落地为准，对吧？如果中间这一块做不好，大家都在扯皮，很难落地，或者落地以后它是一个不稳定的结构，没做好，很多地方漏水不稳定，放地产  它就倒了，就肯定是不合适的，是吧？这块其实做架构就跟做建筑设计师一样，监测设计师需要考虑我们这是个商场还是个民宅，是一家制造业的工厂，还是一个比如说我们的学校、幼儿园，使用的人不同，包括决策做盖这个楼的人不同，可能都会导致我们整体的这样的一个架构的方案会发发生比较大的问题和偏差。

说到这里我多扯一点，大家可以在评论区里面，大家可以在评论区里面讨论一下我们遇到具体的问题的时候，比如说架构的时候遇到一些设计的问题或者技术的问题，那么我们应该对事还是对人？对事还是对人？嗯，大家可以想一想，这个问题我们先遗留一下，我们最后再给大家解答，到底是对事还是对人，好。

### （3）第三条，以需求为核心

需求是我们整体架构的输入，也是研发的输入。真实的业务需求是我们整个软件工程的起点，我们有这些需求，所以才要建设这样的一套系统，才要做需求分析，做产品的原型，做技术的选型，做整体的架构设计，做盖设，做详设，做我们的部署方案，做我们的应急方案，等等等等，需求是核心，我们后面给大家讲 4 + 1 视图的时候，最中间就是我们的业务，我们的需求，我们所有的这个软件都是为了满足我们的需求的场景的需求，我们一般说它包括我们功能新需求和非功能性需要，这两块都需要满足功能性的需求。

我们一般通过我们的所谓的业务的架构设计，我们业务的拆解，业务的流程的梳理，我们对业务从具体的大家怎么去做这件事情的提炼成我们所谓的计算机可以操作，可以处理的流程，这个流程中的各种节点，不同的角色相互之间怎么协作，时序的关系是什么？中间流动的那些数据，这是我们做业务架构，或者我们最终会变成我们的需求分析，或者我们叫业务建模、业务模型的东西，这些词名词没关系，名词你不了解都没有关系，这些名词不重要，架构跟我们的设计模式一样，是经验。

这些名词不重要，重要的是最最重要的是我们能够把我们的场景、我们的问题，我们的设计说清楚，你用架构的语言说，你用 MI 图的方式来说，还是你用某种文字描述的方式来说，你用代码的方式来呈现，只要你能把它说清楚，别人理解，没有歧义，它都是一种好的方式，这也是我们课程里会着重给大家讲的一块，怎么样去呈现我们的架构。

今天我看有同学可乐还是谁在咱们的星球里发了一段对架构的体会，他说小项目无所谓，架构不架构，大项目架构才有意义，才很重要。我当时就是说我要纠正你一点，所有的软件系统应用都有架构，这个架构有可能是我们通过架构图表示出来的， UML 图表示出来的，也可能我们是通过，比如说文档表述出来的，也可能只有代码，没有任何的文档和图。

那这个时候这个系统的架构在哪里？在那个架构师的脑子里，他没有通过这种可交换的媒介呈现出来代码，你可以认为它是一个不可交换的媒介，不是用来传递设计的，代码是用来传递实现的。所有的系统都有自己的架构风格、架构特色，有自己的技术选型。有人就说，老师我们现在做这个项目没有技术选型，把上一个项目拿过来改吧改吧，就用了，OK，你们这个项目的技术选型是在上一个项目里实现的，那昨天就说了，老师那上一个项目也没有技术选型，也是拿上组传的，这套东西是组传的，那么在最开始做这套整合好的框架的那个人手里，这个东西它就是它的架构设计。

选了 three m v c，没有用别的框架，比如 space 或者 free maker，就说明他当时脑子里是有架构的，有选型的。有这种思想的只是他根据他的经验，比如说包括当时的工期很短、很急，就拿之前的经验套了一下，那么它的很多选型，很多的架构设计不光在他的脑子里，而且在他过去很多年的这种经验里，慢慢的呈现沉淀、重叠出来的一定是有的。后续这个框架如果在不同的人手里来回在不断的使用，进行了一些调整和修改，那么这也是在打磨的。

一个架构，所有东西都是有架构的，但是我们需要注意，所有东西都有架构，但是架构的核心还是我们的需求，都是为了满足需求，你的架构满足了需求，那就是一个合格的架构满足不了需求，那么你就是不合格的。如果你想到一个架构的点，一个方案非常的漂亮，但是跟我们的需求没有多大关系。抱歉，那你这块的设计它是一个滥竽充数的，画蛇添足多余的东西。所以我们说架构是要在当前我们的需求以及我们团队的能力的范围下，在这些约束的条件下，从而达成的一种设计方案。架构是在我们的各种约束条件下去满足需求，这约束条件包括我们的需求本身，包括我们的研发团队的技术能力，能够使用的这些技术的组件和工具，大家的技术成熟度。比如说你引入一个巨复杂的一个一套技术，但团队里没有人会用。抱歉，这时候就，嗯，顺应了我们一个老话，当我们用一个自己不太懂，不太了解的东西来解决现有的问题，那么很抱歉，你现在拥有了两个问题。

好，这一块就是我们需要以需求作为我们的核心，以需求作为我们业务需求。有同学说，老师我做这个技术产品没有业务。抱歉，你这个理解是不对的。比如说你做了一个框架，一个中间件，一个技术平台，那么使用你的人是程序员，对吧？他们在开发编程的场合下使用你，那么你的业务方就是你的上游，使用你的人，你的客户，他就是你的业务方，你的业务就是他使用的这个技术功能。一切系统都有业务，这些业务对应的需求就是我们要去满足的项目管理，以管理的方式在满足阵容需求，满足这些功能，架构设计，在以技术的视角去满足这些功能，它们合起来就是一个完整的。

第四个，以问题作为导向。这个有同学应该替我讲过，以问题作为导向，我们非常不建议大家以成就作为导向，以表扬作为导向。与谁开发了多少功能点作为导向，那些可以作为绩效，但不能作为我们整体推动问题的、推动事情发展的导向。什么叫导向？就是我们推动事情发展采用的这样的一个手段。以前大家应该有同学听我提过，以问题为导向，而不以这种成就作为导向。

这句话不是我说的。这句话是我非常喜欢的一个国内的管理讲管理的老师陈春花讲的，他在管理的常识那本书里讲了我非常认可的观点。我非常建议大家，如果不管是做架构师还是做项目管理、技术管理，都可以去看一下那本书陈春花的管理的常识，它里面说了很多国外的那些学院派的管理学不会说的一些落地的话，让你能听懂和立马受益的话，包括这个以问题为导向，以问题为导向就意味着只要我们能够不断的思考和连续的问出来问题，我们就可以推动一件事情深入的往前走。

不光是推动事情，我们去学习和了解一个新的知识，一个新的领域，也是我在咱们架构训练营的知识星球里就给大家举了一个例子，我们去学习一门新的东西，做一个新的架构，怎么样来通过不断的问题逐渐的深入到细节里，挖得又宽又深，非常的宽，非常的深，一步步的怎么下去？以问题作为导向，我平时讲课也好，出去给大家做技术分享也好，开一个这种技术相关的会也好，甚至开一个跟非技术的，跟业务方和产品方沟通的会也好。

当我讲完我的思路和方案的时候，如果跟我合作的各方或者我团队的兄弟，我会问他们有什么问题，这几个环节上有什么问题，这几个环节相互的配合看有什么问题。如果他们没有人回答出来问题，没有人能够问出来问题，那么说明他根本就没有听懂。如果他们听懂了，问出来我一些真正的问题，那么就意味着我们可以继续的再往下一层去深入了。

要么我可以很好的回答他这个问题，大家一块往前走了一步，要么他回答这个问题也是我没有想到的，OK，我特别开心，我会跟他一块讨论，或者自己再去思考他这个问题到底是怎么回事，为什么我之前会忽略掉？当我们把这个问题也搞清楚了，我们再同步完了，我们就可以继续的深入到下一层，最后把这些事情从里到外，从左到右，从外到内全部搞清楚。

那么我们最后做的方案，大家一块推动的这件事情，它就会出现最少的沟通的问题，大家深入的达成了一致，更好的去推动大家每个人都理解怎么回事了，而且理解的很深，所以自己做的时候也不会做差了。第三个，大家一旦形成了好了这样的一些配合的这种氛围，大家认可了这种沟通和推动问题的方式，那么后续做其他的东西也会比较轻松。以问题作为导向，以问题作为驱动力。这里面其实对人是有要求的，两个大的要求。第一个要求是要求我们能够在复杂的场景下识别出来那些真正关键的问题。怎么样识别？我会教大家很多的方法，典型的例子大家都知道，以前都知道的单纯问题、两难问题和棘手问题，是吧？架构师面临的大部分可能都是棘手问题，你要把棘手问题拆解掉，拆分出来变成一些单纯问题，一些两难问题、单纯问题，仆人硬上干掉两难问题做取舍，可能剩下还有一小块继续是棘手问题，那我们想办法继续去拆，最终把问题全部拆解掉，它就解决掉了。

所以架构师有时候并不需要很强的技术能力，但是需要你掌握足够多的方法和工具，你能够把大的问题变小，小的问题变明了，这是架构师最核心的一种能力，这种能力不是基础能力，而是使用问题盯住目标，然后去以问题为导向去推动他们的能力。还有就是现在我们这一般的团队，他的职责划分的并不是很清楚，所以我们经常会出现我们这种问题。

一个问题有很多面，有些问题它是具有自己的本质复杂度和偶然复杂度合在一起了，我们把它搞混了。偶然复杂度我们是可以通过换人、换一种方法来解决的，换一个工具来解决的，但是本质复杂度，内在的复杂度是不行的。还有时候有一些是技术复杂度带来的问题，有些是我们的业务复杂度带来问题，甚至有些是管理问题也混在一起了。

所以我们经常会见到我们在架构设计的过程中，经常有人稀土希望用所谓的技术手段去解决一些本质上其实是管理问题的问题，这就跑差了。技术手段解决不了那些问题，这个也是我们需要避免的。回到我们的以问题为导向，同样还是在我刚才提到那本书里管理的常识里，陈春华老师提到一个观点，我也非常的认可，就是我们经常会遇到一些问题，这些问题我们发现我们没有办法去推动跟这个问题有关的这些人来解决这些问题，那些人不愿意解决，不愿意来做这些事情，怎么办？好？答案就是如果我们发现我们推一些人去解决一些问题，我们推不动，那么只说明一个问题，一个问题我们没有搞清楚这个人，他背后思考这个问题的角度，思考这个问题的利益点，就是他真实的想法是什么样子的，他为什么真正的不愿意去做这个事情？当我们把背后的这个利益点和关系搞清楚了，那这些问题就迎刃而解了。如果你推不动一个人去做一个事情，他跟你说再多的理由可能都是冠冕堂皇的，都不是他内心最真实的想法，你需要把它搞清楚。

所以反过来，现在我可以回答，我开始问大家那个问题了，到底是对人还是对事？初级的管理和初级的架构，我们对事不对人，思考所有的人都是我们这个大的系统里的一个零件，跟机器一样，每个人把自己的这个零件的作用然后给实现出来，给体现出来，那么我们整个大的事情就能够正常的运转好，这是比较初级的架构或者管理。

再高级一点，我们一定需要去对人，先对人再对事，不是不对事，对人不对事肯定是不对的，对事儿不对人是不那么合适的。或者是比较低阶的、高阶的技术管理或者项目管理，都需要去先对人再对事。你先需要去了解这个人他到底怎么是个什么情况？他以前的架构水平，他以前的代码质量，他以前采用的这种编码和设计的方式都是 OK 的，突然最近一段时间就变得不好了，质量差了，他做出来这样的一些架构的方案和零件，跟其他的人对不上了，中间有gap，那么一定是这个人本身，他的环境、他周遭的事物发生了变化。

我们先要去理解这个人，当你理解了这个人以后，你才能够更好地推动他去做这些事情，所以需要先对人，再对事儿。第5个，以工具为方法以工具为方法，这里我想给大家强调的就是一定要重视工具的作用。让你徒手去砍树，你砍了半年，可能一棵树也砍不下来。给你一把斧子，你一天可以砍两棵树。给你一把电锯，你一天可以砍 100 棵树，工具的价值在适当的场合下可以强大，可以让你的生产力强大 100 倍，所以工具的价值非常的强，以方法为工具或者以工具为方法都可以，因为方法本身就是工具，方法论也是工具，方法就是工具。当你处理一个问题的时候，很抽象的很复杂的问题，你没有办法，你不知道怎么下手。这时候别人告诉你一套方法或一套方法论，那就是你最好的去攻克这个问题的工具，而且它是一套思维的工具，比实体的工具好在哪里？好在我们可以选择很多种，你去砍树对吧？要么用锯子，要么用斧子，要么用电钻，电锯你很难，砍一棵树的时候多个工具都用，是吧？但是你做一件事情的时候，你就可以把你所有的思维工具全部复合到一起来用，用完了以后你再想一想怎么改进它，你就有了更好的思维的工具。

在我去做一些具体的技术的时候，解决一些具体的问题的时候，就开始我是摸不到这些方法论的门槛了，我解决的问题都是点对点的，一个个的对，当我们我把它们都聚拢起来，抽象出来，看清楚这些问题背后的本质到底是什么的时候，我要么可以预防这些问题，以后就让整个团队再也不会出现这些问题了。

我把它做成我们规范里的一种，就像开车，对吧？车最开始是没有安全带的，对吧？出了问题大家意识到需要安全带，需要安全气囊，它慢慢的变成标配了，那再出现了小的事故，因为有安全带，大家都会避免出现大的伤亡事故。工具体系，方法论体系也是一样的，我们把它从实际的实践中抽离出来，变成可以复用的这样的一些过程，这样一些手段，并且验证它是行之有效的。那么慢慢的我们就可以在一个很大的领域里面去不断的去复用它，这些东西是不变的。方法论，一套方法论，虽然我们的技术本身在变化，架构的方法也在变化。方法论，嗯，在很长的时间内是可以不变的。这块其实对我们的架构师可能会有更高的要求，我们能够，去使用工具，带团队的兄弟们使用工具去发现和引入更多更好的工具方法，不断的打磨改造我们现有的工具。有很多同学可能作为一个架构师，或者看自己团队的架构师，意识不到这一点，但这一点很重要。我以前带团队，如果团队的人，比如说超过 100 个，我就会要求只有 95% 的人， 95 个人去从事生产，去做我们的业务开发，去做我们的各种日常类的开发工作，让那 5 个人，甚至有时候要 10 个人，从正常的这种日常的业务开发里，增删改查里抽出来，他们需要去研究怎么样去引入更好的工具，提升大家的效率，怎么样用更好的姿势方式去工作。

嗯，我今天举的例子是什么呢？是插秧是吧？一个村里有百个人，一百个人天天在低个头插秧，十年前是那样， 100 年前是那样，那么它的效率就一直会很低，上不去。但是我要求 95 个人插秧，那 5 个人去研究用什么化肥能够促进秧长得更好，水噪节的粒儿更饱满，用什么姿势插秧大家会不累，一天能够插很多的秧。

引入挖掘机，不对，挖掘机波动机，引入波动机是不是能够提升我们的效率，改造我们的机械？这些这一块也是我们作为一个架构师需要考虑的东西，打磨我们的工具，形成我们的工具体系，然后用它能整体来提升我们架构设计，到我们的研发实践，甚至我们的测试运维整体的效率。

第六个以经验为指引，这块其实跟我们刚才说的方法论一样，很多时候我们目前没有办法从现有的一些项目里去提炼出我们所谓的方尔论，形成一套体系化的、结构化的东西来处理我们的问题。但是这个时候我们可以复用我们以前的经验。就像我最开始举的例子一样，你们公司里有一套技术架构，一个脚手架，一个半成品的这样的产品或者平台祖传的一直往下传下去。这个玩意其实就是你们公司过去很多年技术经验的积累，它就是经验，经验帮我们去做快速的决策和判断，少走弯路，过去证明它可行。那么现在在没有其他更好的办法之前，我们也可以大概率认为它比别的方案可行，这就是经验。所以我们做大型的这种软件系统的架构设计或者金融系统的原这种架构设计，互联网这种类，比如说电商相关的高并发的一些系统设计。

为什么我们很看重这样的一些 case 和案例？你去面试干嘛的时候，当你跟面试官谈到你有这样的一些经验，你做过这样的系统，嗯，然后他们会感很感兴趣，会跟你聊很多。嗯，哪怕他们的公司只跟这一块沾点边，如果面试过程中你其他方面表现的也不差，可能优先会考虑你。为什么呢？经验太重要了，经验太重要了。

我以前在管理每天超过几亿单的这种交易系统的时候，有一段时间我们要招比如说多摩耶中间剑的技术专家来很多的面试，有大厂的，有这种跟我们一样在这种高并发的金融行业的，还有一些 level 很高的，毕业没几年的这种可造的可造之材，比如说有很多牛津大学的本科生和研究生过来面试，甚至还有美国的常春生高校的人过来寒冬底子很好。

有同学直接又说了，我本科清华，研究生牛津，我能力很强，别人需要半年一年学会的，我一俩月就学会了，而且学会以后能够玩得比他们更重要更好，我要的价格还比他们低。我说抱歉，我这个岗位我就招有真正的在，高并发的某个中间件，比如 MQ 上工作过两年以上的人，能力再强一点，可以降低到真正的去干过一年以上的人，但是没有经验的人我不要，为什么呢？因为，我现在确实面临着这个系统的这个中间件的一些技术问题很深，还有很深的稳定性，可高可用的问题。

我招一个人能力很强的人，他也许住一俩月真能够顶上去，但是他还是没有经验，从零开始的，对吧？从零开始的也没有人告诉他经验，他也没地儿学。我这也没有特别强的人，那么一个在大厂这个岗位上干过两年以上、三年以上的人，做得很深入的人。他以前摸过很多的这个中间建设的坑，用很多真实的case，故障问题、宕机，用这些案例去了，这样一个人把它喂的成熟了，那么他来我这里顶上来，他能够给我带来的最价大的价值不是他长期把这个软件维护住，而是让我少走很多弯路，以前大厂里那些出现的故障、宕机，在我这里尽量少出现，我要的是这个东西，所以经验远比我们想象中的重要。

但是好在，好在经验它有一个特性，或它有两个特性，第一个特性就是GI，虽然需要在长期的实践中积累，这种积累比学习知识慢得多。所以我以前一直有一个观点，就是像现在，特别是 AIGC 技术的发展，慢慢的我们获取知识的这个路径会越来越短，价格会越来低，甚至免费，也就是知识应该是免费的。长期来看知识是免费的，但是经验是值钱的，经验是值钱的，这是第一点。

第二点经验是可以通过他人学习的，这个话不好理解，经验是可以通过他人学习的，我们看很多技术大牛上升到一定的段位以后，可能他们就不在一线了，那么它对一线的很多技术点、决策点、架构的方案设计的技巧，还有很强的掌控力。这种掌控力的原因就是因为他们已经从一般的开发者他的能力模型升到了架构师的级别，甚至更高的级别，在这个级别上他已经跳脱了原先在一线只能依靠自己的第一手的这种体验来学习，变成了可以通过他人的经验来学习。

就是有一个系统，这个系统也不是我建设的，架构也不是我做的，但是我可以通过跟做这个系统的做这个架构的这些人深入的沟通和讨论，我大概能学会它架构的决策是什么？它的背景是什么？它的思路是什么？它为什么要在这个几个点上做这样的几个变化和调整？在那几个点上他又没有做任何的变化调整，他选择这个技术，不选择那个技术，它到底它的出发点是什么？这些是架号，那个架构背后真正有价值的东西，你学会了，虽然你没有亲手去做，但是你也了解的八九不离十了。经验是可以通过他人来学习的。

如果你是一个大团队的技术管理者或者架构师，那么也很好办，你可以把你很多需要去做预言、做调研、做分析、做挖掘的这些东西，这些活从一个大的方案里面切开车税拆碎了丢给场景里的不同的小兄弟，没小兄弟去负责去验证自己的那一点的东西，最终你这里再把所有的这些验证的过程，最后讨论得出结论的这个思维逻辑的过程汇总出来，那么你就是一个很厉害很牛逼的架构师，虽然具体的某一个技术点，每一行代码不是你写的，在整体的技术方案，架构方案就是你来主导的，你来推动的，最终你来呈现，你来把它创造出来的。

架构师不一定需要去编码，当然也可以编码，但是你更大的能力是放在推动整体的所有的技术问题往前走，这是所谓的以经验为之一。所以我总结一下我今天给大家聊的是什么？聊的所谓的价格61。以终为始，以人为本，以需求为核心，以问题为导向，然后以工具为方法，以经验为指导为指引，这 6 个东西其实是在强调我们所谓的架构的目标、架构的着力点、架构的内核和内容、架构的推动力，以及架构的方法和架构怎么来积累。所以如果你只看到了这 6 点，对不起，你看到的是很浅的一层，如果你能看到我对这 6 点每一点的解释和阐述，你到了第二层，如果你能够把他们跟你自己现在的实践相结合，那么你到了第三层，你如果你能知道我这 6 点他们真正在说什么，包括他们内在的联系是怎么串起来的，给大家留一个作业，怎么串起来的，那么你至少到了第4层。

如果你在你的工作中能够根据我今天讲的再去做一些应用，反过来去推动你们的架构的这种确立明确，梳理的更清晰，拆分的更合理。你到了第五层，好了，今天我们的整体的内容就讲完了，然后今天是我们的开营仪式，主要一方面给大家打打气，另一方面给大家讲一些跟我们硬核的架构本身无关的东西。但是对大家的成为架构师，我们的思想认知，我们做事的方法，我们的心态都这些转变都有些帮助的一些内容。

好了，具体的架构相关的这些，嗯，方法、原则，我们的手段、内容，以及一些经典的case，大型的互联网，包括金融，大型的金融机构，几亿级以上的用户规模高，并发到底怎么来做的？我们的非功能怎么实现的？性能，高考应用一致性都是怎么来考量的？当前的架构领域有什么样的一些热点，有什么样的一些架构的趋势，我们都会在我们的课程里给大家做详细的讲解，大家如果有兴趣可以加入我们的训练营一起来学习，特别是今天看直播，然后没有报名的兄弟，如果有兴趣可以加我的微信听不听了解一下详情，也可以直接相信我，无脑的在我们的屏幕上扫码。

今天 12 点之前我们还可以便宜 600 块钱，这样的话你就只需要用 1200 块钱，也就是我们常规的价格，训练营的一两折，一两折的，这样的一个价格甚至更低。我们现在市面上很多训练营偏架构相这种相关的两三万的都有，我们只要 1200 块钱，不吃亏不上当，你学会了几个架构的手段，画几张架构图，可能就指挥你这个票价了。并且我们的训练营里还提供了很多增值的服务，包括去给大家做这种相关的一些，职业的规划，兴趣的小组给大家去请一些 BAT 的大牛来给大家做技术分享。针对咱们训练营里的每一个同学提出来的，你们公司的现在的架构相关的一些问题和方案，我们都会嗯按照按优先级挑出来给你做一些解答，甚至我们会组织一些小组，专门针对你的问题进行一些讨论，尽最大可能的让你学到的架构的方法、架构的思想、架构的手段、架构的工具都能够应用到你的日常工作去，把你变成实实在在的架构式。

好的，今天我就讲那么多，然后看大家有什么问题，我可以在评论区回答大家 3 个问题。评论区里有好多熟人，看起来非常多的熟人，都是老兄弟们，感谢大家来捧场。

今天由于时间关系，因为今天是工作日，今天我们的直播 7 点半，是吧？我们日常的上课一般是 8 点到 9 点半，我们今天是 7 点半到 8 点半。今天是我们最后一场的公开直播，后续的直播都会在我们的钉钉的群里，只对我们自己内部人开放，对训练营的兄弟开放。

w 同学问，做一个项目的架构需要掌握业务需求到什么程度？这个问题非常好，做一个项目的架构需要掌握到我们业务的业务需求的什么程度，越深越好，你基本了解了他的需求，搞清楚了里面需求的侧重点、要点，也对需求的这种整个的拆分，模块的划分，层次的划分有了一些基础的了解，对非功能的需求也有了一定的估算，一定的度量基本就够了。一定要注意需求，包括功能需求和非功能需求。

非功能需求可能是我们技术人员相对会还擅长一点的业务，这个功能需求可能对我们很多技术人员来说，你没做过一个行业的系统，你就是不知道的，你需要一些时间去搞清楚它背后深层次的东西。我经常给大家提供一种观点，任何一个能赚钱的行业，它真正深层次的需求，你在公开的文档里、网上的搜索引擎里，知乎上，嗯，各种星球上，一般你是看不到的，一般你是看不到。那么怎么样衡量你真正懂了需求？你要去了解这个行业的一些规则和潜规则，他这些黑话，他的一些自己的关键词，他自己一些真正赚钱的模式，当你了解了，入门了，OK，你才算真正懂了这个需求。

不然你做的很多的架构设计，你那些设想在有经验的高手面前看起来就是个纸糊的老虎，一眼就看穿了它就是一张皮，没有深层次的这种价值。我经常要求在一个领域做了很多年架构的兄弟，你一定要把自己变成这个领域里的专家，你甚至需要比业务人员更懂需求，这个时候你做出来的东西没有任何人能反驳你，方方面面你都考虑到了。

好，这是我回答的第一个问题。好，第二个问题，d，什么同学说的中间件的架构需要精通这类的主流科研产品吗？我们做任何一个中间件，做任何一个技术类的中间件的架构，你都需要去了解市面上其他的同类的中间件的架构，甚至跟它相关的有点沾边的其他的架构。这个问题其实很好理解，如果你不知道其他的中间件是如何来架构的，如何来设计的，那么你凭空设计的一个架构，你怎么去跟那些经过良好的设计发展了很多年的中间件产品来比？你上来就是落后的，并且原先的那些中间件，比如消息中间件，是吧？它为什么底层要用WL？如果你不去做一些深层次的调研和思考的话，你是不知道的，你用了一个传统的 log 日志来记录，你的性能会差得一塌糊涂。

原先的那些好的设计好的架构里已经帮你避免了很多的坑，在你不清楚怎么做的时候，你照它的整体架构抄就行了。然后在你的业务场景里，你把那些他做的比较通用，但是在你的场景里表现的不是那么优秀的那些边边角角稍微微调一下也许就是一个好的中间电子架构。当你看到很多市面上所有的中间件，在你眼里同类的这一类的中间件在你眼里都设计的很一般的时候，你就可以设计出来更牛逼的中间件了。

所以做中间的架构一定要去了解别的中间，好再回答一个问题，马同学的马叉叉同学，对于业务变更太快的系统怎么做架构好？这是我们训练营里将要花很重的篇幅去回答这个问题，怎么样去思考，去划分我们所谓的业务系统的易和不？我们做架构的时候，为了做到它后续的可维护、灵活扩展，要求我们把不变的东西放在一起，把易变的东西每次变的完了以后，相互之间会关联的东西放在一起，就我们需要去找到、去提炼出来我们的业务发展方向，以及它对我们的业务的影响。

在这个影响下，哪些地方可能是变的，哪些地方可能现在不变，将来会变，哪些地方现在就在变，哪些地方是过去一直在变的，然后有了这个认知，我们就可以打出余量来。当业务推我们去做一些东西的时候，我们留出一些工作量，把那些易变的东西单独拆出来放在一块，每次它变的时候对其他的影响就小，相当于每次做的时候我们要做一点重构，业务方也没办法说你什么，他只要说你就说你需求天天变结构，我不调一下这东西，你下次变的时候我代码没法写了。

好，我们回答了。嗯， 3 个问题，后续大家有问题，麻烦大家直接在咱们的架构训练营的知识需求来提问。我一般不太喜欢在微信上或者钉钉或者是我们的这种直播的评论区回答问题，因为这种回答问题回答完了，一刷屏它就丢了，我希望的是我们的这些问题都能够在一个地方积累起来，典型的就是我们的知识星球。积累起来以后，我会这种定时的组织人力物力去把所有的问题进行分类，汇总结出来一些问题的目录。后续别的同学在问到同样的问题就不用费力的去回答了，你也不用问了，你直接在目录里找就行了。事实上证明，我们的一个技术社区运行个三五年，平时大家问的 80% 的问题都是重复的。好了，我们今天的直播就到这里，没有上车的同学抓紧时间，我们今天上车，时间到晚上的 12 点，过了 12 点还可以买，但是会涨价了。好了，感谢大家，今天我们超时了 10 分钟，我们今天就到这里，我们明天的正式的课程上再见。感谢大家今天的参与。嗯，在乎的路很长，我们且行且珍惜。一起朝鲜。走，一群平凡的人去做一些伟大而不平凡的事，让每个人都成为架构师。好的，大家晚安。
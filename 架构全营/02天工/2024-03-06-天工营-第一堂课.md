# 天工营

[toc]

计划三个月，写8个框架和中间件

目的：为后面大型项目做准备。

## 一、回顾RPC

像调用本地方法一样，调用

## 二、步骤

1. 创建一个空的SpringBoot项目；

   - 删除多余的目录和文件；
   - 修改pom文件，添加packaging；
   - 修改pom文件，添加modules

2. 在项目中，创建第一个模块：`rpc-core`;

3. 在项目中，创建第二个模块：`rpc-demo-api`；

   - 删除多余的目录和文件；
   - 定义RPC调用接口；

4. 创建第三个模块，用来实现服务的提供者：`rpc-demo-provider`;

   - 删除多余的目录和文件；

   - 添加对demo-api对依赖；

   - 创建接口的实现；

   - 通过HTTP+JSON方式，实现序列化；

     - RpcRequest，描述请求

     - RpcResponse，描述结果

       （这两个类，是框架的一部分，将其移动到框架中）

5. 在`rpc-core`中创建一个注解；

6. 在业务实现类上添加这么一个注解；

在Spring中，想要给一个类，对象刚创建，但还没有初始化的时候，执行一些操作，改这么做？

目的是：在Spring启动之后，业务方法执行之前，获取到这些加了注解的对象。

7. 实现RPC调用接口的方法
7. 在provider中模拟远程调用；
7. 把属于框架的部分抽出来；
7. 模拟远程；

## 三、思考

1. `@PostConstruct`的作用；
2. `ApplicationRunner` 中的run方法是什么时候执行的；
3. `ApplicationContextAware` 的作用